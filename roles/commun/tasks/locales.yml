---

- name: Installation de locales
  ansible.builtin.package:
    name: locales
    state: present
  tags: locales

- name: Génération des locales
  ansible.builtin.locale_gen:
    name: "{{ locale }}.UTF-8"
    state: present
  loop:
    - en_US
    - fr_FR
    - fr_BE
  loop_control:
    loop_var: locale
  tags: locales

- name: Définition de la locale par défaut
  ansible.builtin.replace:
    dest: /etc/default/locale
    regexp: 'LANG="(.)*'
    replace: 'LANG="en_US.UTF-8"'
    backup: false
  tags: locales
