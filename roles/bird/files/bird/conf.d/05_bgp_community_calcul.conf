function bgp_community_calcul(string type_filter; string locality)
int community;
{
    if ! (type_filter = "transit" || type_filter="peering" || type_filter="route-server" || type_filter="member" || type_filter="core") then {
        print "bgp_export: parametre export_type invalide";
        return false;
    }

    if ! (locality = "private" || locality = "bnix" || locality = "belgiumix" || locality = "nlix" || locality = "internal") then {
        print "bgp_import: parametre locality invalide";
        return false;
    }
    
    community = 0;

    if locality = "internal"        then community = community + 1000;
    if locality = "private"         then community = community + 2000;
    if locality = "bnix"            then community = community + 3000;
    if locality = "belgiumix"       then community = community + 3100;
    if locality = "belgiumix"       then community = community + 3200;

    if type_filter = "core"         then community = community + 10;
    if type_filter = "member"       then community = community + 10;
    if type_filter = "transit"      then community = community + 20;
    if type_filter = "route-server" then community = community + 30;
    if type_filter = "peering"      then community = community + 31;

    return community;

}