workflow:
  rules:
    - if: $CI_MERGE_REQUEST_IID
    - if: $CI_COMMIT_TAG
    - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH

stages:
  - install
  - quality

install:
  image: python:3.6
  stage: install
  script:
    - pip install pre-commit

linting:
  extends: install
  stage: quality
  script:
    - pre-commit run --all-files
