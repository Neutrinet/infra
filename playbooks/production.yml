---
- name: Provisionning des machines Debian
  import_playbook: core/debian_commun.yml

- name: Configuration de Proxmox
  import_playbook: core/proxmox.yml

- name: Déploiement du cluster Ceph S3
  import_playbook: core/ceph_s3.yml


- name: Déploiement de Keepalived
  import_playbook: services/keepalived.yml

- name: Déploiement de HAProxy
  import_playbook: services/haproxy.yml

- name: Déploiement du cluster Patroni pour PostgreSQL
  import_playbook: services/postgres_patroni.yml

- name: Déploiement des probes pour le monitoring
  import_playbook: services/probe.yml

- name: Déploiement de VictoriaMetrics
  import_playbook: services/victoriametrics.yml

- name: Déploiement d'Alertmanager
  import_playbook: services/alertmanager.yml

- name: Déploiement de Gitlab Runner
  import_playbook: /gitlab_runner.yml

- name: Déploiement des webhooks
  import_playbook: services/webhook.yml


- name: Déploiement des sites web statiques
  import_playbook: apps/web_static.yml

- name: Déploiement de HedgeDoc
  import_playbook: apps/hedgedoc.yml

- name: Déploiement de Mattermost
  import_playbook: apps/mattermost.yml

- name: Déploiement de Nextcloud
  import_playbook: apps/nextcloud.yml

- name: Déploiement de Accounting
  import_playbook: apps/accounting.yml

- name: Déploiement de Backoffice
  import_playbook: apps/backoffice.yml

- name: Déploiement de Grav
  import_playbook: apps/grav.yml

- name: Déploiement de Dokuwiki
  import_playbook: apps/dokuwiki.yml

- name: Déploiement de Zammad
  import_playbook: apps/zammad.yml

- name: Déploiement de Grafana
  import_playbook: apps/grafana.yml

- name: Déploiement de Uptime-Kuma
  import_playbook: apps/uptime_kuma.yml

