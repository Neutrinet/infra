blackbox_exporter_version: 0.23.0

zammad_monitoring_token: "{{ vault_zammad_monitoring_token }}"
blackbox_exporter_http_probes:
  # Grav
  - name: https://neutrinet.be
    url: https://neutrinet.be/en
    body: Neutral, Decentralized, And you ?
    check_cert_expiry: true
  # Archived wikis
  - url: https://mediawiki.neutrinet.be
  - url: https://wikijs.neutrinet.be
  - url: https://realms-wiki.neutrinet.be
  # La Brique Internet / Internet Cube
  - url: https://wiki.labriqueinter.net
  - url: https://labriqueinter.net
    check_cert_expiry: true
  - url: https://internetcu.be
    check_cert_expiry: true
  - name: https://sync.labriqueinter.net
    url: https://sync.labriqueinter.net/hooks/health
  # Mobilizon
  - url: https://mobilizon.be
    ip_version: 4  # At the moment mobilizon.be is only available in IPv4
    check_cert_expiry: true
  # Mattermost
  - name: https://chat.neutrinet.be
    url: https://chat.neutrinet.be/api/v4/system/ping?get_server_status=true
    body: '"database_status":"OK","filestore_status":"OK","status":"OK"'
  # Neutrinet Accounting
  - url: https://accounting.neutrinet.be
  # Neutrinet Backoffice
  - url: https://cube.neutrinet.be
  - url: https://ffdnapi.neutrinet.be/isp.json
    body: '"website": "https://neutrinet.be"'
  # Nextcloud
  - name: https://files.neutrinet.be
    url: https://files.neutrinet.be/status.php
    body: '"productname":"Nextcloud"'
  # ISPng
  - url: https://user.neutrinet.be
  - url: https://api.neutrinet.be
    check_cert_expiry: true
  # Dokuwiki
  - url: https://wiki.neutrinet.be
  # Discourse
  - name: https://meta.neutrinet.be
    url: https://meta.neutrinet.be/srv/status
    body: ^ok$
  # Hedgedoc
  - name: https://doc.neutrinet.be
    url: https://doc.neutrinet.be/status
  # Ceph S3
  - url: https://s3.neutrinet.be
  # Zammad
  - name: https://support.neutrinet.be
    url: https://support.neutrinet.be/api/v1/monitoring/health_check?token={{ zammad_monitoring_token }}
    body: '"healthy":true'
  # Modoboa / Mail
  - url: https://mail.neutri.net
    check_cert_expiry: true
  # Librenms
  - url: https://librenms.neutrinet.be
  # Grafana
  - name: https://grafana.neutrinet.be
    url: https://grafana.neutrinet.be/healthz
    body: ^Ok$
    check_cert_expiry: true

blackbox_exporter_icmp_probes:
  - "80.67.181.1"
  - "80.67.181.2"
  - "80.67.181.20"
  - "80.67.181.129"

  - "2001:0913:1000:100::1"
  - "2001:0913:1000:100::2"
  - "2001:0913:1000:200::20"
  - "2001:913:1fff:ff00::1"

nagios_openvpn_probes:
  - address: 2001:913:1fff:ff00::1
    port: 1194
    tcp: false
  - address: 2001:913:1fff:ff00::1
    port: 1195
    tcp: false
  - address: 2001:913:1fff:ff00::1
    port: 1194
    tcp: true
  - address: 2001:913:1fff:ff00::1
    port: 1195
    tcp: true

  - address: 80.67.181.129
    port: 1194
    tcp: false
  - address: 80.67.181.129
    port: 1195
    tcp: false
  - address: 80.67.181.129
    port: 1194
    tcp: true
  - address: 80.67.181.129
    port: 1195
    tcp: true
